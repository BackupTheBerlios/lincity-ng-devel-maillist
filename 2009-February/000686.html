<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lincity-ng-devel] interesting segfault while debugging
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/lincity-ng-devel/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:lincity-ng-devel%40lists.berlios.de?Subject=Re%3A%20%5BLincity-ng-devel%5D%20interesting%20segfault%20while%20debugging&In-Reply-To=%3C436440.49770.qm%40web31909.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000685.html">
   <LINK REL="Next"  HREF="000688.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lincity-ng-devel] interesting segfault while debugging</H1>
    <B>Daniel Santos</B> 
    <A HREF="mailto:lincity-ng-devel%40lists.berlios.de?Subject=Re%3A%20%5BLincity-ng-devel%5D%20interesting%20segfault%20while%20debugging&In-Reply-To=%3C436440.49770.qm%40web31909.mail.mud.yahoo.com%3E"
       TITLE="[Lincity-ng-devel] interesting segfault while debugging">javatroubadour at yahoo.com
       </A><BR>
    <I>Mon Feb  2 22:12:00 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000685.html">[Lincity-ng-devel] interesting segfault while debugging
</A></li>
        <LI>Next message: <A HREF="000688.html">[Lincity-ng-devel] interesting segfault while debugging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#686">[ date ]</a>
              <a href="thread.html#686">[ thread ]</a>
              <a href="subject.html#686">[ subject ]</a>
              <a href="author.html#686">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I'm not alone!!!  Actually, it crashes directly from gdb as well, I just
hadn't discovered that and it's random, like you said.  At one point I ran it
in Kdevelop and and it segfaulted and kdevelop didn't crash, I was able to
examine the code &amp; data.  Also, I use FEATURES=&quot;splitdebug installsources&quot;
(among others) and that saves debug info for every package I build and also
the sources.  In fact, it does it in such a way that gdb automatically knows
where it is, that's pretty nice.

But I'm not too happy about not being able to debug :(  I'm back to printfs
:<i>(  I too can get it to work sometimes, it's very frustrating.  I'm
</I>suspecting gdb, I've had a lot of problems with it on and off, so I might pop
into the gdb or kdevelop irc room and poke around for some clues.

In addition, my breakpoints as well as other signals aren't getting caught by
gdb all of the time.  Thus, I can set a breakpoint, begin debugging, and as
soon as it hits it, it invokes some crash handler... ahh! perhaps in SDL!! 
because then it tries to reset my screen (causing it to blank momentarily). 
Don't get me wrong, I appreciate any game that has a crash handler to give me
my screen back when it crashes, but this isn't supposed to be handling the
problems, gdb is.

Oh, one more thing I should have mentioned: when it crashes in gdb, gdb
informs me of an internal error and prompts me to core dump so I can report
the bug.  When I say yes, I get the screen change, so once again, something
is intercepting the signal that gdb sends its self to core dump and I never
get a core file!

Daniel

--- Jaky &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/lincity-ng-devel">jaky_lincity at mail.ru</A>&gt; wrote:

&gt;<i> On Sun, Feb 01, 2009 at 11:37:05PM -0800, Daniel Santos wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Has anybody run into anything like this before?  I may have to wait until
</I>&gt;<i> my
</I>&gt;<i> &gt; revdep-rebuild completes and try it again (after restarting my X session
</I>&gt;<i> of
</I>&gt;<i> &gt; course).  I can run it without debugging it with no problems.
</I>&gt;<i> 
</I>&gt;<i> I have the same problem. But on my system it is not limited to kdevelop. 
</I>&gt;<i> It crashes 50% of the time when I debug it from kdevelop or directly with 
</I>&gt;<i> gdb. When I start the game without a debugger it also crashes occasionally,
</I>&gt;<i> but that happens less than 10% of the time. Of course I can't say if it is 
</I>&gt;<i> the same crash than with a debugger. 
</I>&gt;<i> My system is gentoo linux on i686 with kdevelop 3.5.3, gdb 6.7.1 and
</I>&gt;<i> sdl-image-1.2.6-r1.
</I>&gt;<i> 
</I>&gt;<i> &gt; It's within the SDL-image code
</I>&gt;<i> &gt; (version 1.2.7), where it attempts to call lib.png_create_read_struct(). 
</I>&gt;<i> It
</I>&gt;<i> &gt; turns out that the address the lib structure contains for this function
</I>&gt;<i> isn't
</I>&gt;<i> &gt; mapped to the app.
</I>&gt;<i> 
</I>&gt;<i> How did you find out that the address is not mapped ? I didn't find out why
</I>&gt;<i> it
</I>&gt;<i> segfaults in this case. That's why I didn't report this crash.
</I>&gt;<i> 
</I>&gt;<i> Jaky
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Lincity-ng-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/lincity-ng-devel">Lincity-ng-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/lincity-ng-devel">https://lists.berlios.de/mailman/listinfo/lincity-ng-devel</A>
</I>&gt;<i> 
</I>


      

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000685.html">[Lincity-ng-devel] interesting segfault while debugging
</A></li>
	<LI>Next message: <A HREF="000688.html">[Lincity-ng-devel] interesting segfault while debugging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#686">[ date ]</a>
              <a href="thread.html#686">[ thread ]</a>
              <a href="subject.html#686">[ subject ]</a>
              <a href="author.html#686">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/lincity-ng-devel">More information about the Lincity-ng-devel
mailing list</a><br>
</body></html>
